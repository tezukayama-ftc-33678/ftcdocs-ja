コンピュータービジョンの概要
========================

はじめに
------------

**FIRST** **Tech Challenge** 制御システムソフトウェアには、2つのコンピュータービジョン技術の組み込みサポートがあります：

1. **AprilTags** -
   :doc:`AprilTags <../../../apriltag/vision_portal/apriltag_intro/apriltag-intro>`
   は、識別とローカライゼーションに使用できる QR コードに似た設計の基準マーカーです。**AprilTags** は、自律ナビゲーションおよびゲームフィールド上の関心点の支援ナビゲーションと識別の参照点として使用されます。

   -  各シーズン、**FIRST** はナビゲーション参照点として使用できる 2D 画像ターゲットを提供します。
   -  **AprilTag** システムが **AprilTag** 画像を認識すると、ターゲットに対するロボットの位置に関する非常に正確なポーズ情報を提供します（使用されるカメラに作業解像度の較正パラメーターがあると仮定）。
   -  ロボットはこの情報を使用して、フィールド上で自律的にナビゲートできます。

2. カラー処理 - 
   :doc:`カラー処理 </color_processing/index>` は、**FIRST** **Tech Challenge** **SDK** の機能で、`OpenCV <https://opencv.org/>`__ を使用して色を処理する機能を提供します。

   -  **Color Sensor** は、画像内の正確な色を検出でき、ロボットの前にあるものを判断するのに役立ちます。
   -  **Color Locator** は、特定の色を探し、カメラフレーム内の色のサイズ、形状、位置に関する情報を返すことができます。
   -  ロボットはこの情報を使用して、認識されたオブジェクトにナビゲートできます。

**AprilTags** 対 カラー処理
-----------------------------

**AprilTag** の利点
~~~~~~~~~~~~~~~~~~~

-  高速検出レート（デシメーションとターゲットサイズに応じて、推定毎秒 15 ～ 20 回の検出）で非常に効率的です。
-  フィールド座標でカメラからターゲットへの正確な相対ポーズ情報を提供します。
-  フィールドの変動または変化する照明条件の影響を受けにくいです。

.. figure:: images/AprilTagTelemetry.jpg
   :align: center
   :width: 25%

   **AprilTag** はターゲットへの正確なポーズ情報を提供できます


**AprilTag** の欠点
~~~~~~~~~~~~~~~~~~~~~~

-  正確なポーズ情報を得るには、カメラを較正する必要があります（通常、このプロセスでは、チェッカーボードパターンの複数の画像をキャプチャする必要があります）。
-  **AprilTag** システムは、事前に印刷および配置された **AprilTag** 画像のみを認識します。
-  **AprilTag** は、ゲームエレメントやフィールド上の他のカスタムオブジェクトを識別するために使用することはできません。

カラー処理の利点
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-  カメラの較正は不要です。
-  ゲーム固有のゲームエレメントやフィールド上のカスタムオブジェクトを識別できます。

カラー処理の欠点
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-  変動する照明条件の影響を受けやすい可能性があります。
-  フレーム内のオブジェクトの正確なフィールド位置を計算するには、追加の作業が必要です。

どのシステムを使用するべきか？
---------------------------------

-  **AprilTag** またはカラー処理の両方のシステムを使用して、自律ナビゲーションとオブジェクト識別のタスクを実行できます。
-  **AprilTag** システムは、ロボットがナビゲートして正確に配置する必要がある定義済みの場所がある場合に適しています。
-  カラー処理は、ロボットがゲームエレメントまたはカスタムオブジェクトを識別して応答する必要がある場合に適しています。

次のステップ
----------

-  **AprilTag** について詳しく知りたい場合は、:doc:`AprilTag のページ </apriltag/vision_portal/apriltag_intro/apriltag-intro>` を参照してください。
-  カラー処理について詳しく知りたい場合は、:doc:`カラー処理のページ </color_processing/index>` を参照してください。
